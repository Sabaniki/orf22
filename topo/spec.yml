nodes:
- name: Client
  image: sabaniki/frr:latest
  interfaces:
  - { name: net0, type: direct, args: R3#net1 }
- name: Mirror
  image: openvswitch/ovs
  interfaces:
  - { name: net0, type: direct, args: R3#net0 }
  - { name: net1, type: direct, args: R4#net0 }
  - { name: net2, type: direct, args: C1#net0 }
  - { name: net3, type: direct, args: C2#net0 }
- name: AP
  image: openvswitch/ovs
  interfaces:
  - { name: net0, type: direct, args: R3#net0 }
  - { name: net1, type: direct, args: R4#net0 }
  - { name: net2, type: direct, args: C1#net0 }
  - { name: net3, type: direct, args: C2#net0 }
- name: Router
  image: sabaniki/frr:latest
  interfaces:
  - { name: net0, type: direct, args: R3#net1 }
- name: Server
  image: sabaniki/frr:latest
  interfaces:
  - { name: net0, type: direct, args: R3#net1 }
- name: RTTer
  image: sabaniki/frr:latest
  interfaces:
  - { name: net0, type: direct, args: R3#net1 }

node_configs:
- name: R1
  cmds:
  - cmd: >-
      vtysh -c "conf t"
      -c "interface net0"
